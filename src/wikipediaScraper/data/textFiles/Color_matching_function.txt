In 1931 the International Commission on Illumination (CIE) published the CIE 1931 color spaces which define the relationship between the visible spectrum and the visual sensation of specific colors by human color vision . The CIE color spaces are mathematical models that create a "standard observer", which attempts to predict the perception of unique hues of color. These color spaces are essential tools that provide the foundation for measuring color for industry, including inks, dyes, and paints, illumination, color imaging, etc. The CIE color spaces contributed to the development of color television, the creation of instruments for maintaining consistent color in manufacturing processes, and other methods of color management .

The initials CIE come from the French name "Commission Internationale de l'éclairage" , which has maintained and developed many of the standards in use today relating to colorimetry . The CIE color spaces were created using data from a series of experiments, where human test subjects adjusted red, green, and blue primary colors to find a visual match to a second, pure color. The original experiments were conducted in the mid 1920s by William David Wright using ten observers and John Guild using seven observers. The experimental results were combined, creating the CIE RGB color space. The CIE XYZ color space was derived from CIE RGB in an effort to simplify the math.

The CIE 1931 XYZ color space is still widely used, even though it is not perceptually uniform in relation to human vision. In 1976 the CIE published the CIELUV and CIELAB color spaces, which are derived from XYZ, and are intended to provide more uniform predictions relative to human perception.

The human eye with normal vision has three kinds of cone cells that sense light, having peaks of spectral sensitivity in short ("S", 420 nm – 440 nm ), medium ("M", 530 nm – 540 nm ), and long ("L", 560 nm – 580 nm ) wavelengths. These cone cells underlie human color perception in conditions of medium and high brightness; in very dim light color vision diminishes, and the low-brightness, monochromatic "night vision" receptors, denominated " rod cells ", become effective. Thus, three parameters corresponding to levels of stimulus of the three kinds of cone cells, in principle describe any human color sensation. Weighting a total light power spectrum by the individual spectral sensitivities of the three kinds of cone cells renders three effective values of stimulus ; these three values compose a tristimulus specification of the objective color of the light spectrum. The three parameters, denoted "S", "M", and "L", are indicated using a 3-dimensional space denominated the " LMS color space ", which is one of many color spaces devised to quantify human color vision .

A color space maps a range of physically produced colors from mixed light, pigments , etc. to an objective description of color sensations registered in the human eye, typically in terms of tristimulus values, but not usually in the LMS color space defined by the spectral sensitivities of the cone cells . The tristimulus values associated with a color space can be conceptualized as amounts of three primary colors in a tri-chromatic, additive color model . In some color spaces, including the LMS and XYZ spaces, the primary colors used are not real colors in the sense that they cannot be generated in any light spectrum.

The CIE XYZ color space encompasses all color sensations that are visible to a person with average eyesight. That is why CIE XYZ tristimulus values are a device-invariant representation of color. It serves as a standard reference against which many other color spaces are defined. A set of color-matching functions, like the spectral sensitivity curves of the LMS color space , but not restricted to non-negative sensitivities, associates physically produced light spectra with specific tristimulus values.

Consider two light sources composed of different mixtures of various wavelengths. Such light sources may appear to be the same color; this effect is called " metamerism ." Such light sources have the same apparent color to an observer when they produce the same tristimulus values, regardless of the spectral power distributions of the sources.

Most wavelengths stimulate two or all three kinds of cone cell because the spectral sensitivity curves of the three kinds overlap. Certain tristimulus values are thus physically impossible: e.g. LMS tristimulus values that are non-zero for the M component and zero for both the L and S components. Furthermore pure spectral colors would, in any normal trichromatic additive color space, e.g., the RGB color spaces , imply negative values for at least one of the three primaries because the chromaticity would be outside the color triangle defined by the primary colors. To avoid these negative RGB values, and to have one component that describes the perceived brightness , "imaginary" primary colors and corresponding color-matching functions were formulated. The CIE 1931 color space defines the resulting tristimulus values, in which they are denoted by "X", "Y", and "Z". In XYZ space, all combinations of non-negative coordinates are meaningful, but many, such as the primary locations [1, 0, 0], [0, 1, 0], and [0, 0, 1], correspond to imaginary colors outside the space of possible LMS coordinates; imaginary colors do not correspond to any spectral distribution of wavelengths and therefore have no physical reality.

In the CIE 1931 model, Y is the luminance , Z is quasi-equal to blue (of CIE RGB), and X is a mix of the three CIE RGB curves chosen to be nonnegative (see § Definition of the CIE XYZ color space ). Setting Y as luminance has the useful result that for any given Y value, the XZ plane will contain all possible chromaticities at that luminance.

The unit of the tristimulus values X , Y , and Z is often arbitrarily chosen so that Y = 1 or Y = 100 is the brightest white that a color display supports. In this case, the Y value is known as the relative luminance . The corresponding whitepoint values for X and Z can then be inferred using the standard illuminants .

Since the XYZ values are defined much earlier than the characterization of cone cells in the 1950s (by Ragnar Granit ), the physiological meaning of these values are known only much later. The Hunt-Pointer-Estevez matrix from the 1980s relates XYZ with LMS. When inverted, it shows how the three cone responses add up to XYZ functions:

In other words, the Z value is solely made up of the S cone response, the Y value a mix of L and M responses, and X value a mix of all three. This fact makes XYZ values analogous to, but different from, the LMS cone responses of the human eye.

Due to the distribution of cones in the eye, the tristimulus values depend on the observer's field of view . To eliminate this variable, the CIE defined a color-mapping function called the standard (colorimetric) observer , to represent an average human's chromatic response within a 2° arc inside the fovea . This angle was chosen owing to the belief that the color-sensitive cones resided within a 2° arc of the fovea. Thus the CIE 1931 Standard Observer function is also known as the CIE 1931 2° Standard Observer . A more modern but less-used alternative is the CIE 1964 10° Standard Observer , which is derived from the work of Stiles and Burch, and Speranskaya.

For the 10° experiments, the observers were instructed to ignore the central 2° spot. The 1964 Supplementary Standard Observer function is recommended when dealing with more than about a 4° field of view. Both standard observer functions are discretized at 5 nm wavelength intervals from 380 nm to 780 nm and distributed by the CIE . All corresponding values have been calculated from experimentally obtained data using interpolation . The standard observer is characterized by three color matching functions .

There is also a 1 nm -interval dataset of CIE 1931 and CIE 1964 provided by Wyszecki 1982. A CIE publication in 1986 appears also to have a 1 nm dataset, probably using the same data. Like the regular 5 nm dataset, this dataset is also derived from interpolation.

The derivation of the CIE standard observer from color matching experiments is given below , after the description of the CIE RGB space.

The CIE's color matching functions x ¯ ( λ ) {\displaystyle {\overline {x}}(\lambda )} , y ¯ ( λ ) {\displaystyle {\overline {y}}(\lambda )} and z ¯ ( λ ) {\displaystyle {\overline {z}}(\lambda )} are the numerical description of the chromatic response of the observer (described above). They can be thought of as the spectral sensitivity curves of three linear light detectors yielding the CIE tristimulus values X , Y and Z . Collectively, these three functions describe the CIE standard observer.

Table lookup can become impractical for some computational tasks. Instead of referring to the published table, the CIE XYZ color matching functions can be approximated by a sum of Gaussian functions , as follows:

Let g ( x ) denote a piecewise-Gaussian function, defined by

That is, g ( x ) resembles a bell curve with its peak at x = μ , a spread/standard deviation of 1 / τ 1 {\displaystyle 1/\tau _{1}} to the left of the mean, and spread of 1 / τ 2 {\displaystyle 1/\tau _{2}} to the right of the mean. With the wavelength λ measured in nanometers , we then approximate the 1931 color matching functions:

The squared differences between the above approximation and the measured CIE xyz color matching functions is less than the within-observer variance encountered in the experimental measurements used to form the CIE standards. It is also possible to use fewer gaussian functions, with one gaussian for each "lobe". CIE 1964 fits well with a one-lobe function.

The CIE XYZ color matching functions are nonnegative, and lead to nonnegative XYZ coordinates for all real colors (that is, for nonnegative light spectra).  Other observers, such as for the CIE RGB space or other RGB color spaces , are defined by other sets of three color-matching functions, not generally nonnegative, and lead to tristimulus values in those other spaces, which may include negative coordinates for some real colors.

The tristimulus values for a color with a spectral radiance L e,Ω,λ are given in terms of the standard observer by:

where λ {\displaystyle \lambda } is the wavelength of the equivalent monochromatic light (measured in nanometers ), and customary limits of the integral are λ ∈ [ 380 , 780 ] {\displaystyle \lambda \in [380,780]} .

The values of X , Y , and Z are bounded if the radiance spectrum L e,Ω,λ is bounded.

The reflective and transmissive cases are very similar to the emissive case, with a few differences. The spectral radiance L e,Ω,λ is replaced by the spectral reflectance (or transmittance ) S(λ) of the object being measured, multiplied by the spectral power distribution of the illuminant I(λ) .

where

K is a scaling factor (usually 1 or 100), and λ {\displaystyle \lambda } is the wavelength of the equivalent monochromatic light (measured in nanometers ), and the standard limits of the integral are λ ∈ [ 380 , 780 ] {\displaystyle \lambda \in [380,780]} .

Since the human eye has three types of color sensors that respond to different ranges of wavelengths , a full plot of all visible colors is a three-dimensional figure. However, the concept of color can be divided into two parts: brightness and chromaticity . For example, the color white is a bright color, while the color grey is considered to be a less bright version of that same white. In other words, the chromaticity of white and grey are the same while their brightness differs.

The CIE XYZ color space was deliberately designed so that the Y parameter is also a measure of the luminance of a color. The chromaticity  is then specified by the two derived parameters x and y , two of the three normalized values being functions of all three tristimulus values X , Y , and Z :

That is, because each tristimulus parameter, X , Y , Z , is divided by the sum of all three, the resulting values, x , y , z , each represent a proportion of the whole and so their sum must be equal to one. Therefore, the value z can be deduced by knowing x and y , and consequently the latter two values are sufficient for describing the chromaticity of any color.

The derived color space specified by x , y , and Y is known as the CIE xyY color space and is widely used to specify colors in practice.

The X and Z tristimulus values can be calculated back from the chromaticity values x and y and the Y tristimulus value:

The figure on the right shows the related chromaticity diagram. The outer curved boundary is the spectral locus , with wavelengths shown in nanometers. The chromaticity diagram is a tool to specify how the human eye will experience light with a given spectrum. It cannot specify colors of objects (or printing inks), since the chromaticity observed while looking at an object depends on the light source as well.

Mathematically the colors of the chromaticity diagram occupy a region of the real projective plane .

The chromaticity diagram illustrates a number of interesting properties of the CIE XYZ color space:

When two or more colors are additively mixed, the x and y chromaticity coordinates of the resulting color (x mix ,y mix ) may be calculated from the chromaticities of the mixture components (x 1 ,y 1 ; x 2 ,y 2 ; …; x n ,y n ) and their corresponding luminances (L 1 , L 2 , …, L n ) with the following formulas:

These formulas can be derived from the previously presented definitions of x and y chromaticity coordinates by taking advantage of the fact that the tristimulus values X, Y, and Z of the individual mixture components are directly additive. In place of the luminance values (L 1 , L 2 , etc.) one can alternatively use any other photometric quantity that is directly proportional to the tristimulus value Y (naturally meaning that Y itself can also be used as well).

As already mentioned, when two colors are mixed, the resulting color x mix , y mix will lie on the straight line segment that connects these colors on the CIE xy chromaticity diagram. To calculate the mixing ratio of the component colors x 1 ,y 1 and x 2 ,y 2 that results in a certain x mix ,y mix on this line segment, one can use the formula

where L 1 is the luminance of color x 1 ,y 1 and L 2 the luminance of color x 2 ,y 2 . Because y mix is unambiguously determined by x mix and vice versa, knowing just one or the other of them is enough for calculating the mixing ratio. In accordance with the remarks concerning the formulas for x mix and y mix , the mixing ratio L 1 /L 2 may well be expressed in terms of other photometric quantities than luminance.

The first step in developing the CIE XYZ color space is the measurement of the CIE RGB color space. The CIE RGB color space is one of many RGB color spaces , distinguished by a particular set of monochromatic (single-wavelength) primary colors .

In the 1920s, two independent experiments on human color perception were conducted by W. David Wright with ten  observers, and John Guild with seven observers. Their results laid the foundation for the trichromatic CIE XYZ color space specification.

The experiments were conducted by using a circular split screen (a bipartite field) 2 degrees in diameter, which is the angular size of the human fovea. On one side a test color was projected while on the other an observer-adjustable color was projected. The adjustable color was a mixture of the three monochromatic primary colors, each with adjustable brightness. The observer would alter the brightness of each of the three primary beams until a match to the test color was observed.

If the test color were simply a monochromatic color at wavelength λ, and if it could be matched by a combination of the three primaries at relative intensities r ¯ ( λ ) {\displaystyle {\bar {r}}(\lambda )} , g ¯ ( λ ) {\displaystyle {\bar {g}}(\lambda )} , and b ¯ ( λ ) {\displaystyle {\bar {b}}(\lambda )} respectively, then a tabulation of these values at various λ will estimate three functions of wavelength. These are the RGB color-matching functions. Any spectral distribution can be thought of as a combination of a number of monochromatic sources at varying intensities, so that (by Grassmann's laws ) integrating the color matching functions with that spectral distribution will yield the intensities of the three primaries necessary to match it. The problem is that the three primaries can only produce colors which lie withinin their gamut - the triangle in color space formed by the primaries, which never touches the monochromatic locus nor the purple line except at the three primaries. In other words, there is no monochromatic source that can be matched by a combination of the three primaries, except at the wavelengths of the three primaries themselves. However, by adding one of the primaries to the monochromatic test color, the test color can be brought into the RGB gamut, allowing a match to be made. Adding a primary to the monochromatic test color is effectively the same as subtracting it from the adjustable color, which of course cannot be done since it is impossible to have a negative intensity for any of the primaries.

For wavelengths between the blue and green primaries, some red primary must be added to allow matching, resulting in negative values of r ¯ ( λ ) {\displaystyle {\bar {r}}(\lambda )} . Likewise, between the green and red primaries, some blue must be added and b ¯ ( λ ) {\displaystyle {\bar {b}}(\lambda )} will be negative. For wavelengths below the wavelength of the blue primary, or above the wavelength of the red primary, some green must be added and g ¯ ( λ ) {\displaystyle {\bar {g}}(\lambda )} will be negative. In each case, the remaining two color matching functions will be positive. It can be seen that the deviation of the RGB gamut from the complete gamut is rather small except between the blue and green primaries at 435.8 and 546.1 nm. In this wavelength band, rather large amounts of the red primary needed to be added to the test color, and it is in this band that the red color matching function has rather large negative values. In their regions of negative values, the green and blue matching functions have rather small negative values.

Although Wright and Guild's experiments were carried out using various primaries at various intensities, and although they used a number of different observers, all of their results were summarized by the standardized CIE RGB color matching functions r ¯ ( λ ) {\displaystyle {\overline {r}}(\lambda )} , g ¯ ( λ ) {\displaystyle {\overline {g}}(\lambda )} , and b ¯ ( λ ) {\displaystyle {\overline {b}}(\lambda )} , obtained using three monochromatic primaries at standardized wavelengths of 700 nm (red), 546.1 nm (green) and 435.8 nm (blue). The (un-normalized) color matching functions are the amounts of primaries needed to match the monochromatic test primary. These functions are shown in the plot on the right (CIE 1931). r ¯ ( λ ) {\displaystyle {\overline {r}}(\lambda )} and g ¯ ( λ ) {\displaystyle {\overline {g}}(\lambda )} are zero at 435.8 nm , r ¯ ( λ ) {\displaystyle {\overline {r}}(\lambda )} and b ¯ ( λ ) {\displaystyle {\overline {b}}(\lambda )} are zero at 546.1 nm and g ¯ ( λ ) {\displaystyle {\overline {g}}(\lambda )} and b ¯ ( λ ) {\displaystyle {\overline {b}}(\lambda )} are zero at 700 nm , since in these cases the test color is one of the primaries. The primaries with wavelengths 546.1 nm and 435.8 nm were chosen because they are easily reproducible monochromatic lines of a mercury vapor discharge. The 700 nm wavelength, which in 1931 was difficult to reproduce as a monochromatic beam, was chosen because the eye's perception of color is rather unchanging at this wavelength, and therefore small errors in wavelength of this primary would have little effect on the results.

The color matching functions and primaries were settled upon by a CIE special commission after considerable deliberation. The cut-offs at the short- and long-wavelength side of the diagram are chosen somewhat arbitrarily; the human eye can actually see light with wavelengths up to about 810 nm , but with a sensitivity that is many thousand times lower than for green light. These color matching functions define what is known as the "1931 CIE standard observer". Rather than specify the brightness of each primary, the curves are normalized to have constant area beneath them. This area is fixed to a particular value by specifying that

The resulting normalized color matching functions are then scaled in the r:g:b ratio of 1:4.5907:0.0601 for source luminance and 72.0962:1.3791:1 for source radiance to reproduce the true color matching functions. By proposing that the primaries be standardized, the CIE established an international system of objective color notation.

Given these scaled color matching functions, the RGB tristimulus values for
a color with a spectral power distribution S ( λ ) {\displaystyle S(\lambda )} would then be given by:

These are all inner products and can be thought of as a projection of an infinite-dimensional spectrum to a three-dimensional color .

One might ask: "Why is it possible that Wright and Guild's results can be summarized using different primaries and different intensities from those actually used?" One might also ask: "What about the case when the test colors being matched are not monochromatic?" The answer to both of these questions lies in the (near) linearity of human color perception. This linearity is expressed in Grassmann's laws of color.

The CIE RGB space can be used to define chromaticity in the usual way: The chromaticity coordinates are r , g and b where:

Having developed an RGB model of human vision using the CIE RGB matching functions, the members of the special commission wished to develop another color space that would relate to the CIE RGB color space. It was assumed that Grassmann's law held, and the new space would be related to the CIE RGB space by a linear transformation. The new space would be defined in terms of three new color matching functions x ¯ ( λ ) {\displaystyle {\overline {x}}(\lambda )} , y ¯ ( λ ) {\displaystyle {\overline {y}}(\lambda )} , and z ¯ ( λ ) {\displaystyle {\overline {z}}(\lambda )} as described above. The new color space would be chosen to have the following desirable properties:

In geometrical terms, choosing the new color space amounts to choosing a new triangle in rg chromaticity space. In the figure above-right, the rg chromaticity coordinates are shown on the two axes in black, along with the gamut of the 1931 standard observer. Shown in red are the CIE xy chromaticity axes which were determined by the above requirements. The requirement that the XYZ coordinates be non-negative means that the triangle formed by C r , C g , C b must encompass the entire gamut of the standard observer. The line connecting C r and C b is fixed by the requirement that the y ¯ ( λ ) {\displaystyle {\overline {y}}(\lambda )} function be equal to the luminance function. This line is the line of zero luminance, and is called the alychne. The requirement that the z ¯ ( λ ) {\displaystyle {\overline {z}}(\lambda )} function be zero above 650 nm means that the line connecting C g and C r must be tangent to the gamut in the region of K r . This defines the location of point C r . The requirement that the equal energy point be defined by x = y = 1/3 puts a restriction on the line joining C b and C g , and finally, the requirement that the gamut fill the space puts a second restriction on this line to be very close to the gamut in the green region, which specifies the location of C g and C b . The above described transformation is a linear transformation from the CIE RGB space to XYZ space. The standardized transformation settled upon by the CIE special commission was as follows:

The numbers in the conversion matrix below are exact, with the number of digits specified in CIE standards.

The above matrix is balanced for the equi-energy stimulus: it has coordinates (1,1,1) in both RGB and XYZ coordinates.

While the above matrix is exactly specified in standards, the inverse is left unspecified so that it can be approximated to machine precision to reduce round-trip rounding errors. Its values can be computed precisely using rational numbers:

Which has these approximate values:

The XYZ primaries will have XYZ coordinates [1,0,0], [0,1,0], and [0,0,1] in XYZ space, so the columns of the inverse matrix above specify the XYZ primaries ( Cr, Cg and Cb) in RGB space. Dividing each column by its sum will give the coordinates of the XYZ primaries in rgb space which yields:

The r and g coordinates of the XYZ primaries are indicated in the rg chromaticity space diagram above.

The integrals of the XYZ color matching functions must all be equal by requirement 3 above, and this is set by the integral of the photopic luminous efficiency function by requirement 2 above. The tabulated sensitivity curves have a certain amount of arbitrariness in them. The shapes of the individual X , Y and Z sensitivity curves can be measured with a reasonable accuracy. However, the overall luminosity curve (which in fact is a weighted sum of these three curves) is subjective, since it involves asking a test person whether two light sources have the same brightness, even if they are in completely different colors. Along the same lines, the relative magnitudes of the X , Y , and Z curves are arbitrary. Furthermore, one could define a valid color space with an X sensitivity curve that has twice the amplitude. This new color space would have a different shape. The sensitivity curves in the CIE 1931 and 1964 XYZ color spaces are scaled to have equal areas under the curves.

A few other XYZ-style color-matching functions have been available, correcting for known issues in the original 1931 color space. These functions imply their own XYZ-like and xyY-like color spaces.

According to Konica Minolta , the older CIE 1931 CMF exhibits metamerism failure (failure to predict when colors appear the same) for wide color gamut displays containing narrowband emitters like OLED , whereas the 2015 XYZ F CMF is not affected. Older Sony manuals recommend using the Judd-Vos correction by applying an offset to the white point depending on the display technology used.