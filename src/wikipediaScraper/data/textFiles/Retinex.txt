Color constancy is an example of subjective constancy and a feature of the human color perception system which ensures that the perceived color of objects remains relatively constant under varying illumination conditions. A green apple for instance looks green to us at midday, when the main illumination is white sunlight, and also at sunset, when the main illumination is red. This helps us identify objects.

Ibn al-Haytham gave an early explanation of color constancy by observing that the light reflected from an object is modified by the object's color. He explained that the quality of the light and the color of the object are mixed, and the visual system separates light and color. He writes:

Again the light does not travel from the colored object to the eye unaccompanied by the color, nor does the form of the color pass from the colored object to the eye unaccompanied by the light. Neither the form of the light nor that of the color existing in the colored object can pass except as mingled together and the last sentient can only perceive them as mingled together. Nevertheless, the sentient perceives that the visible object is luminous and that the light seen in the object is other than the color and that these are two properties.

Monge (1789), Young (1807), von Helmholtz (1867), Hering (1920), and von Kries (1902, 1905), as well as subsequent researchers Helson and Jeffers (1940), Judd (1940), and Land and McCann (1971), have all made significant contributions to the investigation of colour constancy. The idea that the occurrence of colour constancy was the consequence of unconscious inference (Judd, 1940; von Helmholtz, 1867) and the idea that it was the result of sensory adaptation (Helson, 1943; Hering, 1920) coexisted for a significant portion of this time. To clarify the nature of observers' color-constancy judgements, Arend and Reeves (1986) conducted the first systematic behavioural experiments. Subsequently, new colour constancy models, physiological information on cortical mechanisms, and photographic colorimetric measurements of natural scenes all appeared.

Color vision is how we perceive the objective color, which people, animals and machines are able to distinguish based on the different wavelengths of light reflected, transmitted, or emitted by the object. In humans, light is detected by the eye using two types of photoreceptors, cones and rods , which send signals to the visual cortex , which in turn processes those signals into a subjective perception. Color constancy is a process that allows the brain to recognize a familiar object as being a consistent color regardless of the amount or wavelengths of light reflecting from it at a given moment.

The phenomenon of color constancy occurs when the source of illumination is not directly known. It is for this reason that color constancy takes a greater effect on days with sun and clear sky as opposed to days that are overcast. Even when the sun is visible, color constancy may affect color perception. This is due to an ignorance of all possible sources of illumination.  Although an object may reflect multiple sources of light into the eye, color constancy causes objective identities to remain constant.

D. H. Foster (2011) states, "in the natural environment, the source itself may not be well defined in that the illumination at a particular point in a scene is usually a complex mixture of direct and indirect [light] distributed over a range of incident angles, in turn modified by local occlusion and mutual reflection, all of which may vary with time and position." The wide spectrum of possible illuminances in the natural environment and the limited ability of the human eye to perceive color means that color constancy plays a functional role in daily perception.  Color constancy allows for humans to interact with the world in a consistent or veridical manner and it allows for one to more effectively make judgements on the time of day.

The physiological basis for color constancy is thought to involve specialized neurons in the primary visual cortex that compute local ratios of cone activity, which is the same calculation that Land's retinex algorithm uses to achieve color constancy. These specialized cells are called double-opponent cells because they compute both color opponency and spatial opponency. Double-opponent cells were first described by Nigel Daw in the goldfish retina. There was considerable debate about the existence of these cells in the primate visual system; their existence was eventually proven using reverse-correlation receptive field mapping and special stimuli that selectively activate single cone classes at a time, so-called "cone-isolating" stimuli. Human brain imaging evidence strongly suggests that a critical cortical locus for generating color constancy is located in cortical area V4, damage in which leads to the syndrome of cerebral achromatopsia .

Color constancy works only if the incident illumination contains a range of wavelengths. The different cone cells of the eye register different but overlapping ranges of wavelengths of the light reflected by every object in the scene. From this information, the visual system attempts to determine the approximate composition of the illuminating light. This illumination is then discounted in order to obtain the object's "true color" or reflectance : the wavelengths of light the object reflects. This reflectance then largely determines the perceived color.

There are two possible mechanisms for color constancy.   The first mechanism is unconscious inference. The second view holds this phenomenon to be caused by sensory adaptation. Research suggests color constancy to be related changes in retinal cells as well as cortical areas related to vision. This phenomenon is most likely attributed to changes in various levels of the visual system.

Cones, specialized cells within the retina, will adjust relative to light levels within the local environment. This occurs at the level of individual neurons. However, this adaptation is incomplete. Chromatic adaptation is also regulated by processes within the brain.  Research in monkeys suggest that changes in chromatic sensitivity is correlated to activity in parvocellular lateral geniculate neurons. Color constancy may be both attributed to localized changes in individual retinal cells or to higher level neural processes within the brain.

Metamerism, the perceiving of colors within two separate scenes, can help to inform research regarding color constancy. Research suggests that when competing chromatic stimuli are presented, spatial comparisons must be completed early in the visual system.   For example, when subjects are presented stimuli in a dichoptic fashion, an array of colors and a void color, such as grey, and are told to focus on a specific color of the array, the void color appears different than when perceived in a binocular fashion. This means that color judgements, as they relate to spatial comparisons, must be completed at or prior to the V1 monocular neurons. If spatial comparisons occur later in the visual system such as in cortical area V4, the brain would be able to perceive both the color and void color as though they were seen in a binocular fashion.

The "Land effect" is the capacity to see full color images solely by looking at superimposed images of black and white transparancies of the same scene, one taken through a red filter and the other taken through a green filter, and illuminated by red and white light, respectively (or even by two different yellow wavelengths). The effect was discovered by Edwin H. Land , who was attempting to reconstruct James Clerk Maxwell 's early experiments in full-colored images. Land saw that, even when only yellow light illuminated the superimposed images, the visual system would still perceive a full (if muted) range of color. Land described this effect in a 1959 article in Scientific American . , In 1977, Land wrote another Scientific American article that described a generalized Land effect, leading to formulation of his "Retinex Theory" to explain what he believed was main basis of human color vision. The word "retinex" is a blend of " retina " and " cortex ", suggesting that both the eye and the brain are involved in the processing.

The generalized Land effect can be experimentally demonstrated as follows. A display called a "Mondrian" (after Piet Mondrian whose paintings are similar) consisting of numerous colored patches is shown to a person. The display is illuminated by three white lights, one projected through a red filter, one projected through a green filter, and one projected through a blue filter. The person is asked to adjust the intensity of the lights so that a particular patch in the display appears white. The experimenter then measures the intensities of red, green, and blue light reflected from this white-appearing patch. Then the experimenter asks the person to identify the color of a neighboring patch, which, for example, appears green. Then the experimenter adjusts the lights so that the intensities of red, blue, and green light reflected from the green patch are the same as were originally measured from the white patch. The person shows color constancy in that the green patch continues to appear green, the white patch continues to appear white, and all the remaining patches continue to have their original colors.

Land, with John McCann, also developed a computer program designed to imitate the retinex processes thought to be taking place in human physiology. Color constancy is a desirable feature of computer vision , and many algorithms have been developed for this purpose. These include several retinex algorithms. These algorithms receive as input the red/green/blue values of each pixel of the image and attempt to estimate the reflectances of each point. One such algorithm operates as follows: the maximal red value r max of all pixels is determined, and also the maximal green value g max and the maximal blue value b max . Assuming that the scene contains objects which reflect all red light, and (other) objects which reflect all green light and still others which reflect all blue light, one can then deduce that the illuminating light source is described by ( r max , g max , b max ). For each pixel with values ( r , g , b ) its reflectance is estimated as ( r / r max , g / g max , b / b max ). The original retinex algorithm proposed by Land and McCann uses a localized version of this principle.

Although retinex models are still widely used in computer vision, actual human color perception has been shown to be more complex.