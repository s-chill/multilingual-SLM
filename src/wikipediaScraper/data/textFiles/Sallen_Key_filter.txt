The Sallen–Key topology is an electronic filter topology used to implement second-order active filters that is particularly valued for its simplicity. It is a degenerate form of a voltage-controlled voltage-source ( VCVS ) filter topology .  It was introduced by R. P. Sallen and E. L. Key of MIT Lincoln Laboratory in 1955.

A VCVS filter uses a voltage amplifier with practically infinite input impedance and zero output impedance to implement a 2-pole low-pass , high-pass , bandpass , bandstop , or allpass response . The VCVS filter allows high Q factor and passband gain without the use of inductors . A VCVS filter also has the advantage of independence: VCVS filters can be cascaded without the stages affecting each others tuning. A Sallen–Key filter is a variation on a VCVS filter that uses a unity gain amplifier (i.e., a buffer amplifier ).

In 1955, Sallen and Key used vacuum tube cathode follower amplifiers; the cathode follower is a reasonable approximation to an amplifier with unity voltage gain. Modern analog filter implementations may use operational amplifiers (also called op amps ). Because of its high input impedance and easily selectable gain, an operational amplifier in a conventional non-inverting configuration is often used in VCVS implementations. Implementations of Sallen–Key filters often use an op amp configured as a voltage follower ; however, emitter or source followers are other common choices for the buffer amplifier.

VCVS filters are relatively resilient to component tolerance , but obtaining high Q factor may require extreme component value spread or high amplifier gain. Higher-order filters can be obtained by cascading two or more stages.

The generic unity-gain Sallen–Key filter topology implemented with a unity-gain operational amplifier is shown in Figure 1. The following analysis is based on the assumption that the operational amplifier is ideal.

Because the op amp is in a negative-feedback configuration, its v + {\displaystyle v_{+}} and v − {\displaystyle v_{-}} inputs must match (i.e., v + = v − {\displaystyle v_{+}=v_{-}} ). However, the inverting input v − {\displaystyle v_{-}} is connected directly to the output v out {\displaystyle v_{\text{out}}} , and so

By Kirchhoff's current law (KCL) applied at the v x {\displaystyle v_{x}} node,

By combining equations (1) and (2),

Applying equation (1) and KCL at the op amp's non-inverting input v + {\displaystyle v_{+}} gives

which means that

Combining equations (2) and (3) gives

Rearranging equation (4) gives the transfer function

which typically describes a second-order linear time-invariant (LTI) system .

If the Z 3 {\displaystyle Z_{3}} component were connected to ground instead of to v out {\displaystyle v_{\text{out}}} , the filter would be a voltage divider composed of the Z 1 {\displaystyle Z_{1}} and Z 3 {\displaystyle Z_{3}} components cascaded with another voltage divider composed of the Z 2 {\displaystyle Z_{2}} and Z 4 {\displaystyle Z_{4}} components. The buffer amplifier bootstraps the "bottom" of the Z 3 {\displaystyle Z_{3}} component to the output of the filter, which will improve upon the simple two-divider case. This interpretation is the reason why Sallen–Key filters are often drawn with the op amp's non-inverting input below the inverting input, thus emphasizing the similarity between the output and ground.

By choosing different passive components (e.g., resistors and capacitors ) for Z 1 {\displaystyle Z_{1}} , Z 2 {\displaystyle Z_{2}} , Z 4 {\displaystyle Z_{4}} , and Z 3 {\displaystyle Z_{3}} , the filter can be made with low-pass , bandpass , and high-pass characteristics. In the examples below, recall that a resistor with resistance R {\displaystyle R} has impedance Z R {\displaystyle Z_{R}} of

and a capacitor with capacitance C {\displaystyle C} has impedance Z C {\displaystyle Z_{C}} of

where s = j ω = 2 π j f {\displaystyle s=j\omega =2\pi jf} (here j {\displaystyle j} denotes the imaginary unit ) is the complex angular frequency , and f {\displaystyle f} is the frequency of a pure sine-wave input. That is, a capacitor's impedance is frequency-dependent and a resistor's impedance is not.

An example of a unity-gain low-pass configuration is shown in Figure 2.
An operational amplifier is used as the buffer here, although an emitter follower is also effective. This circuit is equivalent to the generic case above with

The transfer function for this second-order unity-gain low-pass filter is

where the undamped natural frequency f 0 {\displaystyle f_{0}} , attenuation α {\displaystyle \alpha } , Q factor Q {\displaystyle Q} , and damping ratio ζ {\displaystyle \zeta } , are given by

and

So,

The Q {\displaystyle Q} factor determines the height and width of the peak of the frequency response of the filter. As this parameter increases, the filter will tend to "ring" at a single resonant frequency near f 0 {\displaystyle f_{0}} (see " LC filter " for a related discussion).

This transfer function has no (finite) zeros and two poles located in the complex s -plane :

There are two zeros at infinity (the transfer function goes to zero for each of the s {\displaystyle s} terms in the denominator).

A designer must choose the Q {\displaystyle Q} and f 0 {\displaystyle f_{0}} appropriate for their application.
The Q {\displaystyle Q} value is critical in determining the eventual shape.
For example, a second-order Butterworth filter , which has maximally flat passband frequency response, has a Q {\displaystyle Q} of 1 / 2 {\displaystyle 1/{\sqrt {2}}} .
By comparison, a value of Q = 1 / 2 {\displaystyle Q=1/2} corresponds to the series cascade of two identical simple low-pass filters.

Because there are 2 parameters and 4 unknowns, the design procedure typically fixes the ratio between both resistors as well as that between the capacitors. One possibility is to set the ratio between C 1 {\displaystyle C_{1}} and C 2 {\displaystyle C_{2}} as n {\displaystyle n} versus 1 / n {\displaystyle 1/n} and the ratio between R 1 {\displaystyle R_{1}} and R 2 {\displaystyle R_{2}} as m {\displaystyle m} versus 1 / m {\displaystyle 1/m} . So,

As a result, the f 0 {\displaystyle f_{0}} and Q {\displaystyle Q} expressions are reduced to

and

Starting with a more or less arbitrary choice for e.g. C {\displaystyle C} and n {\displaystyle n} , the appropriate values for R {\displaystyle R} and m {\displaystyle m} can be calculated in favor of the desired f 0 {\displaystyle f_{0}} and Q {\displaystyle Q} . In practice, certain choices of component values will perform better than others due to the non-idealities of real operational amplifiers. As an example, high resistor values will increase the circuit's noise production, whilst contributing to the DC offset voltage on the output of op amps equipped with bipolar input transistors.

For example, the circuit in Figure 3 has f 0 = 15.9 kHz {\displaystyle f_{0}=15.9~{\text{kHz}}} and Q = 0.5 {\displaystyle Q=0.5} . The transfer function is given by

and, after the substitution, this expression is equal to

which shows how every ( R , C ) {\displaystyle (R,C)} combination comes with some ( m , n ) {\displaystyle (m,n)} combination to provide the same f 0 {\displaystyle f_{0}} and Q {\displaystyle Q} for the low-pass filter. A similar design approach is used for the other filters below.

The input impedance of the second-order unity-gain Sallen–Key low-pass filter is also of interest to designers. It is given by Eq. (3) in Cartwright and Kaminsky as

where s ′ = s ω 0 {\displaystyle s'={\frac {s}{\omega _{0}}}} and k = R 1 R 1 + R 2 = m m + 1 / m {\displaystyle k={\frac {R_{1}}{R_{1}+R_{2}}}={\frac {m}{m+1/m}}} .

Furthermore, for Q > 1 − k 2 2 {\displaystyle Q>{\sqrt {\frac {1-k^{2}}{2}}}} , there is a minimal value of the magnitude of the impedance, given by Eq. (16) of Cartwright and Kaminsky, which states that

Fortunately, this equation is well-approximated by

for 0.25 ≤ k ≤ 0.75 {\displaystyle 0.25\leq k\leq 0.75} . For k {\displaystyle k} values outside of this range, the 0.34 constant has to be modified for minimal error.

Also, the frequency at which the minimal impedance magnitude occurs is given by Eq. (15) of Cartwright and Kaminsky, i.e.,

This equation can also be well approximated using Eq. (20) of Cartwright and Kaminsky, which states that

A second-order unity-gain high-pass filter with f 0 = 72 Hz {\displaystyle f_{0}=72~{\text{Hz}}} and Q = 0.5 {\displaystyle Q=0.5} is shown in Figure 4.

A second-order unity-gain high-pass filter has the transfer function

where undamped natural frequency f 0 {\displaystyle f_{0}} and Q {\displaystyle Q} factor are discussed above in the low-pass filter discussion. The circuit above implements this transfer function by the equations

(as before) and

So

Follow an approach similar to the one used to design the low-pass filter above.

An example of a non-unity-gain bandpass filter implemented with a VCVS filter is shown in Figure 5. Although it uses a different topology and an operational amplifier configured to provide non-unity-gain, it can be analyzed using similar methods as with the generic Sallen–Key topology . Its transfer function is given by

The center frequency f 0 {\displaystyle f_{0}} (i.e., the frequency where the magnitude response has its peak ) is given by

The Q factor Q {\displaystyle Q} is given by

The voltage divider in the negative feedback loop controls the "inner gain" G {\displaystyle G} of the op amp:

If the inner gain G {\displaystyle G} is too high, the filter will oscillate.