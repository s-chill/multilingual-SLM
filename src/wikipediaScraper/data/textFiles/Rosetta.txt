Rosetta is a dynamic binary translator developed by Apple Inc. for macOS , an application compatibility layer between different instruction set architectures . It enables a transition to newer hardware, by automatically translating software. The name is a reference to the Rosetta Stone , the artifact which enabled translation of Egyptian hieroglyphs .

The first version of Rosetta, introduced in 2006 in Mac OS X Tiger , was part of the Mac transition from PowerPC processors to Intel processors , allowing PowerPC applications to run on Intel-based Macs. Support for Rosetta was dropped with the release of Mac OS X Lion (10.7) in 2011.

Rosetta 2, introduced in 2020 as a component of macOS Big Sur , is part of the Mac transition from Intel processors to Apple silicon , allowing Intel applications to run on Apple silicon -based Macs.

Macintosh has used CPUs with several different instruction set architectures : the Motorola 68000 series , PowerPC , Intel x86 , and ARM64 in Apple silicon . Each instruction set architecture is incompatible with its predecessor, necessitating a transition plan based on a software layer to emulate the previous instruction set on the succeeding one.

With the launch of Power Macintosh , the Mac 68K emulator is part of System 7.1.2 and later. This emulator uses PowerPC features and is embedded at the lowest levels of the operating system, integrated with the Mac OS nanokernel . This means that the nanokernel is able to intercept PowerPC interrupts, translate them to 68k interrupts (then doing a mixed mode switch, if necessary), and then execute 68k code to handle the interrupts. This allows 68k and PowerPC code to be interspersed within the same fat binary .

Apple launched Rosetta in 2006 upon the Mac transition to Intel processors from PowerPC. It was embedded in Mac OS X v10.4.4 "Tiger", the version that was released with the first Intel -based Macs, and allows many PowerPC applications to run on Intel-based Mac computers without modification. Rosetta is based on QuickTransit technology. It has no graphical user interface , and launches as needed with no notification of the user, which led Apple to describe Rosetta as "the most amazing software you'll never see". Rosetta is optionally installable in Mac OS X v10.6 "Snow Leopard". Rosetta is neither included nor supported in Mac OS X Lion (10.7) (released in 2011) or later, which therefore cannot run PowerPC applications.

Because of the greater architectural differences between Intel and PowerPC processors, Rosetta operates at a higher level than the 68000 emulator does, as a user-level program that can only intercept and emulate user-level code. It translates G3 , G4 , and AltiVec instructions, but not G5 instructions. Although most commercial software for PowerPC-based Macs was compatible with these requirements (G4 systems were still widely used at the time), any applications that relied on G5-specific instructions had to be modified by their developers to work on Rosetta-supported Intel-based Macs. Apple advised that applications with heavy user interaction but low computational needs (such as word processors ) would be best suited to use with Rosetta, and applications with high computational needs (such as games, AutoCAD , or Photoshop ) would not. Pre-existing PowerPC versions of Apple "Pro" media-production applications (such as Final Cut Pro , Motion, Aperture, and Logic Pro) are not supported by Rosetta and require a "crossgrade" to a universal binary version to work on Rosetta-supported Intel-based Macs.

Rosetta also does not support the following:

In 2020, Apple announced Rosetta 2 would be bundled with macOS Big Sur , to aid in the Mac transition to Apple silicon . The software permits many applications compiled exclusively for execution on x86-64 -based processors to be translated for execution on Apple silicon.

There are two ways to install Rosetta 2 on an Apple silicon Mac: either by using the Terminal to install the program directly, or by trying to open an application compiled for x86-64, which will open an installation window.

In addition to the just-in-time (JIT) translation support, Rosetta 2 offers ahead-of-time compilation (AOT), with the x86-64 code fully translated, just once, when an application without a universal binary is installed on an Apple silicon Mac.

Rosetta 2's performance has been praised greatly. In some benchmarks, x86-64-only programs performed better under Rosetta 2 on a Mac with an Apple M1 SOC than natively on a Mac with an Intel x86-64 processor. One of the key reasons why Rosetta 2 provides such a high level of translation efficiency is the support of x86-64 memory ordering in the Apple M1 SOC. The SOC also has dedicated instructions for computing x86 flags.

Although Rosetta 2 works for most software, some software does not work at all or is reported to be "sluggish".

Similar to the first version, Rosetta 2 does not normally require user intervention. When a user attempts to launch an x86-64-only application for the first time, macOS prompts them to install Rosetta 2 if it is not already available. Subsequent launches of x86-64 programs will execute via translation automatically. An option also exists to force a universal binary to run as x86-64 code through Rosetta 2, even on an ARM-based machine.

Since macOS Ventura , users running virtual machines with Linux as a guest operating system can make use of Rosetta 2 to run x86-64 code compiled for Linux, within the virtual machine. Rosetta 2 works as a runtime binary, which is required to be installed on the guest operating system. There have been instances of developers installing this runtime binary on third-party hardware, provided that it includes a CPU that supports at least the ARMv8.2-A instruction set; the memory ordering will be different from native x86. Some developers have noted that it might violate macOS's licensing agreements, since the runtime is bundled within Apple's Virtualization framework.

In macOS Sequoia , Rosetta 2 has been updated to support translating AVX2 instructions from Intel processors in order to improve compatibility for games being ported using Apple's Game Porting Toolkit .