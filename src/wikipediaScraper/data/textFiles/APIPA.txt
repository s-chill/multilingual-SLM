In computer networking , a link-local address is a network address that is valid only for communications on a local link , i.e. within a subnetwork that a host is connected to. Link-local addresses are typically assigned automatically through a process known as link-local address autoconfiguration , also known as auto-IP , automatic private IP addressing (APIPA, specific to IPv4), and stateless address autoconfiguration (SLAAC, specific to IPv6). While most link-local addresses are unicast , this is not necessarily the case; e.g. IPv6 addresses beginning with ff02: ( ff02::/16 ), and IPv4 addresses beginning with 224.0.0. ( 224.0.0.0/24 ) are multicast addresses that are link-local.

Link-local addresses are not guaranteed to be unique beyond their network segment. Therefore, routers do not forward packets with link-local source or destination addresses.

IPv4 link-local unicast addresses are assigned from address block 169.254 .0.0 / 16 ( 169.254.0.0 through 169.254.255.255 ). In IPv6 , unicast link-local addresses are assigned from the block fe80:: / 10 .

Link-local addresses may be assigned manually by an administrator or by automatic operating system procedures. In Internet Protocol (IP) networks, they are assigned most often using stateless address autoconfiguration, a process that often uses a stochastic process to select the value of link-local addresses, assigning a pseudo-random address that is different for each session. However, in IPv6 the link-local address may be derived from the interface media access control (MAC) address in a rule-based method, although this is deprecated for privacy and security reasons.

In IPv4, link-local addresses are normally only used when no external, stateful mechanism of address configuration exists, such as the Dynamic Host Configuration Protocol (DHCP), or when another primary configuration method has failed. In IPv6, link-local addresses are always assigned, along with addresses of other scopes, and are required for the internal functioning of various protocol components.

The Internet Engineering Task Force (IETF) has reserved the IPv4 address block 169.254.0.0 / 16 ( 169.254.0.0 â€“ 169.254.255.255 ) for link-local addressing. The entire range may be used for this purpose, except for the first 256 and last 256 addresses ( 169.254.0.0 / 24 and 169.254.255.0 / 24 ), which are reserved for future use and must not be selected by a host using this dynamic configuration mechanism. Link-local addresses are assigned to interfaces by host-internal, i.e. stateless, address autoconfiguration when other means of address assignment are not available.

The simultaneous use of IPv4 addresses of different scope on the same interface, such as configuring link-local addresses as well as globally routable addresses, may lead to confusion and increased complexity. Therefore, hosts search for a DHCP server on the network before assigning link-local addresses.

In the automatic address configuration process, network hosts select a random candidate address within the reserved range and use Address Resolution Protocol (ARP) probes to ascertain that the address is not in use on the network. If a reply is received to the ARP probe, it indicates the candidate IP address is already in use; a new random candidate IP address is then created and the process repeated. The process ends when there is no reply to the ARP, indicating the candidate IP address is available.

When a globally routable or a private address becomes available after a link-local address has been assigned, the use of the new address should generally be preferred to the link-local address for new connections but communication via the link-local address is still possible.

Microsoft refers to this address autoconfiguration method as Automatic Private IP Addressing ( APIPA ).

In the Internet Protocol Version 6 (IPv6), the address block fe80:: / 10 has been reserved for link-local unicast addressing. Of the 64 bits of a link-local addresses' network component, the most significant 10 bits (1111111010) correspond to the IANA-reserved "global routing prefix" for link-local addresses, while the "subnet ID" (the remaining 54 bits) is zero.

Unlike IPv4, IPv6 requires a link-local address on every network interface on which the IPv6 protocol is enabled, even when routable addresses are also assigned. Consequently, IPv6 hosts usually have more than one IPv6 address assigned to each of their IPv6-enabled network interfaces. The link-local address is required for IPv6 sublayer operations of the Neighbor Discovery  Protocol , as well as for some other IPv6-based protocols, such as DHCPv6 .

When using an IPv6 link-local address to connect to a host, a zone index must be added to the address so that the packets can be sent out on the correct interface.

In IPv6, addresses may be assigned by stateless (without memory) or stateful (with memory) mechanisms. Stateless address autoconfiguration is performed as a component of the Neighbor Discovery Protocol (NDP). The address is formed from its routing prefix and a unique identifier for the network interface.

Through NDP routing prefix advertisements, a router or server host may announce configuration information to all link-attached interfaces which causes additional IP address assignment on the receiving interfaces for local or global routing purposes. This process is sometimes also considered stateless, as the prefix server does not receive or log any individual assignments to hosts. Uniqueness is guaranteed automatically by the address selection methodology. It may be MAC-address based, or randomized. Automatic duplicate address detection algorithms prevent assignment errors.