Almquist shell (also known as A Shell , ash and sh ) is a lightweight Unix shell originally written by Kenneth Almquist in the late 1980s. Initially a clone of the System V.4 variant of the Bourne shell , it replaced the original Bourne shell in the BSD versions of Unix released in the early 1990s.

ash was first released via a posting to the comp .sources.unix Usenet news group, approved and moderated by Rich Salz on 30 May 1989. It was described as "a reimplementation of the System V shell [with] most features of that shell, plus some additions".

Fast, small, and virtually compatible with the POSIX standard's specification of the Unix shell, ash did not provide line editing or command history mechanisms, because Almquist felt that such functionality should be moved into the terminal driver . However, current variants support it.

The following is extracted from the ash package information from Slackware v14:

ash (Kenneth Almquist's ash shell)

A lightweight (92K) Bourne compatible shell. Great for machines with low memory, but does not provide all the extras of shells like bash , tcsh , and zsh . Runs most shell scripts compatible with the Bourne shell. Note that under Linux , most scripts seem to use at least some bash-specific syntax. The Slackware setup scripts are a notable exception, since ash is the shell used on the install disks. NetBSD uses ash as its /bin/sh.

Myriad forks have been produced from the original ash release. These derivatives of ash are installed as the default shell ( /bin/sh ) on FreeBSD , NetBSD , DragonFly BSD , MINIX , and in some Linux distributions . MINIX 3.2 used the original ash version, whose test feature differed from POSIX. That version of the shell was replaced in MINIX 3.3. Android used ash until Android 4.0 , at which point it switched to mksh .

In 1997 Herbert Xu ported ash from NetBSD to Debian Linux . In September 2002, with release 0.4.1, this port was renamed to Dash ( Debian Almquist shell ). Xu's main priorities are POSIX conformance and slim implementation.

Like its predecessor, Dash implements support for neither internationalization and localization nor multi-byte character encoding (both required in POSIX). Line editing and history support based on GNU Readline is optional ( --with-libedit ).

Because of its slimness, Ubuntu decided to adopt Dash as the default /bin/sh in 2006. The reason for using Dash is faster shell script execution, especially during startup of the operating system, compared to previous versions of Debian and Ubuntu that used Bash for this purpose, although Bash is still the default login shell for interactive use. Dash became the default /bin/sh in Ubuntu starting with the 6.10 release in October 2006. Dash replaced Bash and became the default /bin/sh in Debian 6 (Squeeze), released in February 2011.

A result of the shift is that many shell scripts were found making use of Bash -specific functionalities ("bashisms") without properly declaring it in the shebang line. The problem was first spotted in Ubuntu and the Ubuntu maintainers decided to make all the scripts comply with the POSIX standard. The changes were later upstreamed to Debian, which eventually adopted Dash as its default /bin/sh too. As a result, Debian policy was amended to allow script developers to assume a largely POSIX-compliant shell, save for the extensions merged into Dash for convenience ( local , echo -n , test -a / -o ). A similar transition has happened in Slackware Linux, although their version of ash is only partially based on Dash.

Ash (mainly the Dash fork) is also fairly popular in embedded Linux systems. Dash version 0.3.8-5 was incorporated into BusyBox , the catch-all executable often employed in this area, and is used in distributions like DSLinux, Alpine Linux , Tiny Core Linux and Linux-based router firmware such as OpenWrt , Tomato and DD-WRT .